# æ¡ç /äºŒç»´ç æ ‡ç­¾

<aside>
ğŸ’¡ åœ¨ä»“åº“ç®¡ç†å’Œé›¶å”®ä¸šåŠ¡ä¸­ï¼Œæ¡å½¢ç å’ŒäºŒç»´ç æ ‡ç­¾æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚é€šè¿‡ä¸ºæ¯ä¸ªäº§å“åˆ†é…å”¯ä¸€çš„æ ‡è¯†ç ï¼Œå¹¶å°†ç›¸å…³ä¿¡æ¯ç¼–ç å…¥æ¡å½¢ç æˆ–äºŒç»´ç ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å¯¹äº§å“çš„ç²¾ç¡®è·Ÿè¸ªï¼Œä»¥åŠé«˜æ•ˆçš„åº“å­˜ç®¡ç†å’Œäº¤æ˜“å¤„ç†ã€‚
</aside>
<br>

# **å‰ææ¡ä»¶ï¼š**

- Salesforce AppExchange ä¸­æŸ¥æ‰¾æˆ‘ä»¬çš„åº”ç”¨å¹¶å®‰è£…åˆ°ç¯å¢ƒä¸­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![AppExchange](../_images/zh-cn/AppExchange.png)

# **1. æ‰“å¼€è®¾è®¡å™¨**

- 1.1 é€šè¿‡Home Tabçš„å¿«é€Ÿå¼€å§‹æˆ–æ–°å»ºæ¨¡æ¿æ•°æ®çš„æ–¹å¼æ‰“å¼€è®¾è®¡å™¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Create163](../_images/zh-cn/Create163.gif)

# **2. å‡†å¤‡æŠ¥è¡¨**

- 2.1 åœ¨å¼€å§‹è®¾è®¡è¿‡ç¨‹æ—¶ï¼Œæœ‰å¤šç§æ–¹å¼å¯ä»¥å¸®åŠ©æ‚¨åˆ›å»ºè®¾è®¡çš„åŸºç¡€ã€‚æ‚¨å¯ä»¥é€‰æ‹©æ‰«æä¸€ä¸ªç°æœ‰çš„æŠ¥è¡¨ï¼Œä»ç½‘ç»œä¸Šä¸‹è½½ä¸€ä¸ªæŠ¥è¡¨ï¼Œç›´æ¥ä»è®¾è®¡å·¥å…·çš„æ¨¡æ¿ä¸­å¿ƒé€‰å–ä¸€ä¸ªæ¨¡æ¿æˆ–è€…æ–°å»ºä¸€ä¸ªæ¨¡æ¿ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä»æ¨¡æ¿ä¸­å¿ƒé€‰å– BAR-QR ç¤ºä¾‹ï¼ˆæ°´å¹³ï¼‰æ¨¡æ¿ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Create164](../_images/zh-cn/Create164.gif)

# **é¡µçœ‰çº¿å’Œé¡µè„šçº¿**

- é¡µçœ‰çº¿å’Œé¡µè„šçº¿åŠŸèƒ½å¯æŸ¥çœ‹[è¯·æ±‚ä¹¦](sc-request.md)ä¸­çš„**é¡µçœ‰çº¿å’Œé¡µè„šçº¿**ã€‚

# **3. æ¨¡æ¿çš„å±æ€§è®¾ç½®**

- 3.1 æ¨¡æ¿çš„å±æ€§è®¾ç½®å¯æŸ¥çœ‹[è¯·æ±‚ä¹¦](sc-request.md)ä¸­çš„**ç¬¬3æ­¥**ã€‚

# **4. å…ƒç´ çš„å®½é«˜å¤§å°è®¾ç½®**

- 4.1 å…ƒç´ çš„å®½é«˜å¤§å°è®¾ç½®å¯æŸ¥çœ‹[è¯·æ±‚ä¹¦](sc-request.md)ä¸­çš„**ç¬¬4æ­¥**ã€‚

# **5. ç¼–è¾‘æ¨¡æ¿**

- 5.1 å°†æ¨¡æ¿è°ƒæ•´è‡³æ»¡è¶³é¢„æœŸçš„æ•ˆæœã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šç”±äºéœ€è¦ä¿®æ”¹çš„å…ƒç´ è¿‡å¤šï¼Œæœ¬ç¤ºä¾‹ä»…å±•ç¤ºäº†å¦‚ä½•ä¿®æ”¹'Delivery No.'å­—æ®µï¼Œå®é™…æ“ä½œä¸­ï¼Œå¯èƒ½éœ€è¦å°†æ‰€æœ‰å…ƒç´ çš„å­—æ®µåæˆ–æ ·å¼ç­‰è°ƒæ•´åˆ°é¢„æœŸæ•ˆæœã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Create165](../_images/zh-cn/Create165.gif)

# **6. ç¼–è¾‘æ‰“å°æ•°æ®ã€æŸ¥çœ‹JSONæ•°æ®æ¨¡å‹ã€å¯¼å‡ºã€ä»æœ¬åœ°æ–‡ä»¶å¯¼å…¥å’Œé¢„è§ˆåŠŸèƒ½**

- 6.1 ç¼–è¾‘æ‰“å°æ•°æ®ã€æŸ¥çœ‹JSONæ•°æ®æ¨¡å‹ç­‰åŠŸèƒ½å¯æŸ¥çœ‹[è¯·æ±‚ä¹¦](sc-request.md)ä¸­çš„**ç¬¬10æ­¥**ã€‚

# **7. ä¿å­˜æ¨¡æ¿å’ŒæŸ¥çœ‹æ¨¡æ¿ä¿¡æ¯**

- 7.1 ä¿å­˜æ¨¡æ¿å’ŒæŸ¥çœ‹æ¨¡æ¿ä¿¡æ¯å¤„ç†å¯æŸ¥çœ‹[è¯·æ±‚ä¹¦](sc-request.md)ä¸­çš„**ç¬¬11æ­¥**ã€‚

# **8. æŠ½å–ä¸šåŠ¡æ•°æ®**

- 8.1 é€šè¿‡ç‚¹å‡»æŸ¥çœ‹Apex Classæ•°æ®æ¨¡å‹æŒ‰é’®æˆ–é€šè¿‡å¿«æ·é”®(Ctrl / Command + M)æ‰“å¼€æŸ¥çœ‹Apex Classæ•°æ®æ¨¡å‹ç”»é¢ï¼Œå°†ä»£ç å…¨éƒ¨å¤åˆ¶åç‚¹å‡»å–æ¶ˆå…¨å±æŒ‰é’®ï¼Œå¹¶æ‰“å¼€å·²ä¿å­˜çš„æ¨¡æ¿æ•°æ®æŸ¥çœ‹æ¨¡æ¿çš„ä¿¡æ¯ï¼Œå¤åˆ¶çš„ä»£ç ç”¨äº**8.3æ­¥éª¤**åˆ›å»ºè‡ªå®šä¹‰æ‰“å°æ•°æ®è¿”å›çš„å¯¹è±¡ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Create166](../_images/zh-cn/Create166.gif)

- 8.2 æŠ½å–ä¸šåŠ¡æ•°æ®å¤„ç†å¯æŸ¥çœ‹[è¯·æ±‚ä¹¦](sc-request.md)ä¸­çš„**ç¬¬12æ­¥**ã€‚

- 8.3 é€šè¿‡**8.1æ­¥éª¤**å¤åˆ¶çš„ä»£ç åˆ›å»ºä¸€ä¸ªæ–°çš„ApexClassæ–‡ä»¶ï¼Œç”¨äºè‡ªå®šä¹‰å¼€å‘æŠ½å–æ•°æ®åè¿”å›çš„å¯¹è±¡ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Create167](../_images/zh-cn/Create167.gif)

- 8.4 ç¼–è¾‘é€šè¿‡**8.2æ­¥éª¤**æ–°å»ºçš„Apex Classæ–‡ä»¶ï¼Œé€šè¿‡è‡ªå®šä¹‰å¼€å‘ï¼Œç¼–å†™SQLæŠ½å–ä¸šåŠ¡æ•°æ®ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Create168](../_images/zh-cn/Create168.gif)

- 8.4.1 å®Œæ•´Apex Classä»£ç ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š

```
public with sharing class Demo_Ctrl01 {
    public Demo_Ctrl01 (ApexPages.StandardController controller) {}
    public List<String> templateNames {get; set;}
    public String dataSource { get; set; }
    public String printSeviceName { get; set; }
    public String machineId { get; set; }
    public String printMode { get; set; }
    public List<String> itemIds { get; set; }
    public List<SObject> selectedObjects { get; set; }

    public void initAction() {
        templateNames = new List<String>{'ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã¨QRã‚³ãƒ¼ãƒ‰'};
        // ã‚«ã‚¹ã‚¿ãƒ é–‹ç™ºã§ã¯ã“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¨­å®šã§ãã¾ã™
        dataSource = objectDataToJsonStr();
        printSeviceName = 'Print Cloud Service Config';
        machineId = 'fdcd6b04-9b6e-48b1-8e57-0ee5caf88063';
    }

    private String objectDataToJsonStr () {
        List<eprint__product_order__c> productOrders = [
            SELECT 
                Name, eprint__orderNo__c, eprint__country__c, eprint__registrationNumber__c, eprint__no__c,
                (SELECT eprint__barCode__c, eprint__qrCode__c, eprint__productName__c, eprint__quantity__c,
                    eprint__address__c, eprint__tel__c, eprint__batchNumber__c, eprint__lineNo__c
                FROM eprint_product_order_info__r)
            FROM eprint__product_order__c
            WHERE Name = 'PO-0003'
        ];
        List<TemplateProject> templateProjects = new List<TemplateProject>();
        for (eprint__product_order__c productOrder : productOrders) {
            for (eprint__product_order_info__c productOrderInfo : productOrder.eprint_product_order_info__r) {
                TemplateProject templateProject = new TemplateProject();
                // barcode
                templateProject.barcode = productOrderInfo.eprint__barCode__c;
                // qrcode
                templateProject.qrcode = productOrderInfo.eprint__qrCode__c;
                // 23K
                templateProject.lineNo = productOrderInfo.eprint__lineNo__c;
                // å•†å“åã®å€¤
                templateProject.productName = productOrderInfo.eprint__productName__c;
                // é…é€æ•°é‡ã®å€¤
                templateProject.quantity = String.valueOf(productOrderInfo.eprint__quantity__c);
                // å•†å“æ³¨æ–‡åã®å€¤
                templateProject.Name = productOrder.Name;
                // æ³¨æ–‡ç•ªå·ã®å€¤
                templateProject.orderNo = productOrder.eprint__orderNo__c;
                // é…é€ä½æ‰€ã®å€¤
                templateProject.address = productOrderInfo.eprint__address__c;
                // ã‚«ãƒ³ãƒˆãƒªãƒ¼ã®å€¤
                templateProject.country = productOrder.eprint__country__c;
                // ç™»éŒ²ç•ªå·ã®å€¤
                templateProject.registrationNumber = productOrder.eprint__registrationNumber__c;
                // é€£çµ¡é›»è©±ã®å€¤
                templateProject.tel = productOrderInfo.eprint__tel__c;
                // ç•ªå·ã®å€¤
                templateProject.no = productOrder.eprint__no__c;
                // å‡ºè·ç•ªå·ã®å€¤
                templateProject.batchNumber = productOrderInfo.eprint__batchNumber__c;
                templateProjects.add(templateProject);
            }
        }
        return JSON.serialize(templateProjects);
    }
}
```

# **9. æ‰“å°é¢„è§ˆå’Œå¯¼å‡ºPDF**

- 9.1 æ‰“å°é¢„è§ˆå’Œå¯¼å‡ºPDFå¤„ç†å¯æŸ¥çœ‹[è¯·æ±‚ä¹¦](sc-request.md)ä¸­çš„**ç¬¬13æ­¥**ã€‚

- 9.2 é¢„è§ˆæ¨¡æ¿æœ€ç»ˆç»“æœã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Create169](../_images/zh-cn/Create169.gif)